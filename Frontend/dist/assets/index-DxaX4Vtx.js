var kt=Object.defineProperty;var Nt=(t,e,o)=>e in t?kt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o;var We=(t,e,o)=>Nt(t,typeof e!="symbol"?e+"":e,o);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function o(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(s){if(s.ep)return;s.ep=!0;const l=o(s);fetch(s.href,l)}})();function Fe(){}function M(t,e){for(const o in e)t[o]=e[o];return t}function ct(t){return t()}function Ue(){return Object.create(null)}function ie(t){t.forEach(ct)}function at(t){return typeof t=="function"}function R(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function yt(t){return Object.keys(t).length===0}function x(t,e,o,n){if(t){const s=ft(t,e,o,n);return t[0](s)}}function ft(t,e,o,n){return t[1]&&n?M(o.ctx.slice(),t[1](n(e))):o.ctx}function ee(t,e,o,n){return t[2],e.dirty}function te(t,e,o,n,s,l){if(s){const i=ft(e,o,n,l);t.p(i,s)}}function ne(t){if(t.ctx.length>32){const e=[],o=t.ctx.length/32;for(let n=0;n<o;n++)e[n]=-1;return e}return-1}function z(t){const e={};for(const o in t)o[0]!=="$"&&(e[o]=t[o]);return e}function Ve(t,e){const o={};e=new Set(e);for(const n in t)!e.has(n)&&n[0]!=="$"&&(o[n]=t[n]);return o}function w(t,e){t.appendChild(e)}function Z(t,e,o){t.insertBefore(e,o||null)}function J(t){t.parentNode&&t.parentNode.removeChild(t)}function Ne(t,e){for(let o=0;o<t.length;o+=1)t[o]&&t[o].d(e)}function A(t){return document.createElement(t)}function le(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Se(t){return document.createTextNode(t)}function L(){return Se(" ")}function Te(){return Se("")}function T(t,e,o,n){return t.addEventListener(e,o,n),()=>t.removeEventListener(e,o,n)}function g(t,e,o){o==null?t.removeAttribute(e):t.getAttribute(e)!==o&&t.setAttribute(e,o)}function Pe(t,e){for(const o in e)g(t,o,e[o])}function St(t){return Array.from(t.childNodes)}function Re(t,e){e=""+e,t.data!==e&&(t.data=e)}function _e(t,e,o,n){o==null?t.style.removeProperty(e):t.style.setProperty(e,o,"")}function Ie(t,e,o){t.classList.toggle(e,!!o)}function jt(t,e,{bubbles:o=!1,cancelable:n=!1}={}){return new CustomEvent(t,{detail:e,bubbles:o,cancelable:n})}function Me(t,e){return new t(e)}let ye;function ke(t){ye=t}function ut(){if(!ye)throw new Error("Function called outside component initialization");return ye}function dt(t){ut().$$.on_mount.push(t)}function He(){const t=ut();return(e,o,{cancelable:n=!1}={})=>{const s=t.$$.callbacks[e];if(s){const l=jt(e,o,{cancelable:n});return s.slice().forEach(i=>{i.call(t,l)}),!l.defaultPrevented}return!0}}const pe=[],ve=[];let $e=[];const Ye=[],Ct=Promise.resolve();let Xe=!1;function Pt(){Xe||(Xe=!0,Ct.then(ht))}function Le(t){$e.push(t)}function qe(t){Ye.push(t)}const Be=new Set;let ge=0;function ht(){if(ge!==0)return;const t=ye;do{try{for(;ge<pe.length;){const e=pe[ge];ge++,ke(e),It(e.$$)}}catch(e){throw pe.length=0,ge=0,e}for(ke(null),pe.length=0,ge=0;ve.length;)ve.pop()();for(let e=0;e<$e.length;e+=1){const o=$e[e];Be.has(o)||(Be.add(o),o())}$e.length=0}while(pe.length);for(;Ye.length;)Ye.pop()();Xe=!1,Be.clear(),ke(t)}function It(t){if(t.fragment!==null){t.update(),ie(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Le)}}function Mt(t){const e=[],o=[];$e.forEach(n=>t.indexOf(n)===-1?e.push(n):o.push(n)),o.forEach(n=>n()),$e=e}const Ce=new Set;let me;function be(){me={r:0,c:[],p:me}}function we(){me.r||ie(me.c),me=me.p}function y(t,e){t&&t.i&&(Ce.delete(t),t.i(e))}function C(t,e,o,n){if(t&&t.o){if(Ce.has(t))return;Ce.add(t),me.c.push(()=>{Ce.delete(t),n&&(o&&t.d(1),n())}),t.o(e)}else n&&n()}function se(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Q(t,e){const o={},n={},s={$$scope:1};let l=t.length;for(;l--;){const i=t[l],r=e[l];if(r){for(const m in i)m in r||(n[m]=1);for(const m in r)s[m]||(o[m]=r[m],s[m]=1);t[l]=r}else for(const m in i)s[m]=1}for(const i in n)i in o||(o[i]=void 0);return o}function re(t){return typeof t=="object"&&t!==null?t:{}}function De(t,e,o){const n=t.$$.props[e];n!==void 0&&(t.$$.bound[n]=o,o(t.$$.ctx[n]))}function F(t){t&&t.c()}function D(t,e,o){const{fragment:n,after_update:s}=t.$$;n&&n.m(e,o),Le(()=>{const l=t.$$.on_mount.map(ct).filter(at);t.$$.on_destroy?t.$$.on_destroy.push(...l):ie(l),t.$$.on_mount=[]}),s.forEach(Le)}function O(t,e){const o=t.$$;o.fragment!==null&&(Mt(o.after_update),ie(o.on_destroy),o.fragment&&o.fragment.d(e),o.on_destroy=o.fragment=null,o.ctx=[])}function At(t,e){t.$$.dirty[0]===-1&&(pe.push(t),Pt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function K(t,e,o,n,s,l,i=null,r=[-1]){const m=ye;ke(t);const u=t.$$={fragment:null,ctx:[],props:l,update:Fe,not_equal:s,bound:Ue(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(m?m.$$.context:[])),callbacks:Ue(),dirty:r,skip_bound:!1,root:e.target||m.$$.root};i&&i(u.root);let v=!1;if(u.ctx=o?o(t,e.props||{},(h,a,..._)=>{const d=_.length?_[0]:a;return u.ctx&&s(u.ctx[h],u.ctx[h]=d)&&(!u.skip_bound&&u.bound[h]&&u.bound[h](d),v&&At(t,h)),a}):[],u.update(),v=!0,ie(u.before_update),u.fragment=n?n(u.ctx):!1,e.target){if(e.hydrate){const h=St(e.target);u.fragment&&u.fragment.l(h),h.forEach(J)}else u.fragment&&u.fragment.c();e.intro&&y(t.$$.fragment),D(t,e.target,e.anchor),ht()}ke(m)}class U{constructor(){We(this,"$$");We(this,"$$set")}$destroy(){O(this,1),this.$destroy=Fe}$on(e,o){if(!at(o))return Fe;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(o),()=>{const s=n.indexOf(o);s!==-1&&n.splice(s,1)}}$set(e){this.$$set&&!yt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Et="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Et);/**
 * @license lucide-svelte v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};function Je(t,e,o){const n=t.slice();return n[10]=e[o][0],n[11]=e[o][1],n}function Oe(t){let e,o=[t[11]],n={};for(let s=0;s<o.length;s+=1)n=M(n,o[s]);return{c(){e=le(t[10]),Pe(e,n)},m(s,l){Z(s,e,l)},p(s,l){Pe(e,n=Q(o,[l&32&&s[11]]))},d(s){s&&J(e)}}}function Ze(t){let e=t[10],o,n=t[10]&&Oe(t);return{c(){n&&n.c(),o=Te()},m(s,l){n&&n.m(s,l),Z(s,o,l)},p(s,l){s[10]?e?R(e,s[10])?(n.d(1),n=Oe(s),e=s[10],n.c(),n.m(o.parentNode,o)):n.p(s,l):(n=Oe(s),e=s[10],n.c(),n.m(o.parentNode,o)):e&&(n.d(1),n=null,e=s[10])},d(s){s&&J(o),n&&n.d(s)}}}function Wt(t){let e,o,n,s,l,i=se(t[5]),r=[];for(let a=0;a<i.length;a+=1)r[a]=Ze(Je(t,i,a));const m=t[9].default,u=x(m,t,t[8],null);let v=[Ge,t[6],{width:t[2]},{height:t[2]},{stroke:t[1]},{"stroke-width":n=t[4]?Number(t[3])*24/Number(t[2]):t[3]},{class:s=`lucide-icon lucide lucide-${t[0]} ${t[7].class??""}`}],h={};for(let a=0;a<v.length;a+=1)h=M(h,v[a]);return{c(){e=le("svg");for(let a=0;a<r.length;a+=1)r[a].c();o=Te(),u&&u.c(),Pe(e,h)},m(a,_){Z(a,e,_);for(let d=0;d<r.length;d+=1)r[d]&&r[d].m(e,null);w(e,o),u&&u.m(e,null),l=!0},p(a,[_]){if(_&32){i=se(a[5]);let d;for(d=0;d<i.length;d+=1){const j=Je(a,i,d);r[d]?r[d].p(j,_):(r[d]=Ze(j),r[d].c(),r[d].m(e,o))}for(;d<r.length;d+=1)r[d].d(1);r.length=i.length}u&&u.p&&(!l||_&256)&&te(u,m,a,a[8],l?ee(m,a[8],_,null):ne(a[8]),null),Pe(e,h=Q(v,[Ge,_&64&&a[6],(!l||_&4)&&{width:a[2]},(!l||_&4)&&{height:a[2]},(!l||_&2)&&{stroke:a[1]},(!l||_&28&&n!==(n=a[4]?Number(a[3])*24/Number(a[2]):a[3]))&&{"stroke-width":n},(!l||_&129&&s!==(s=`lucide-icon lucide lucide-${a[0]} ${a[7].class??""}`))&&{class:s}]))},i(a){l||(y(u,a),l=!0)},o(a){C(u,a),l=!1},d(a){a&&J(e),Ne(r,a),u&&u.d(a)}}}function qt(t,e,o){const n=["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"];let s=Ve(e,n),{$$slots:l={},$$scope:i}=e,{name:r}=e,{color:m="currentColor"}=e,{size:u=24}=e,{strokeWidth:v=2}=e,{absoluteStrokeWidth:h=!1}=e,{iconNode:a}=e;return t.$$set=_=>{o(7,e=M(M({},e),z(_))),o(6,s=Ve(e,n)),"name"in _&&o(0,r=_.name),"color"in _&&o(1,m=_.color),"size"in _&&o(2,u=_.size),"strokeWidth"in _&&o(3,v=_.strokeWidth),"absoluteStrokeWidth"in _&&o(4,h=_.absoluteStrokeWidth),"iconNode"in _&&o(5,a=_.iconNode),"$$scope"in _&&o(8,i=_.$$scope)},e=z(e),[r,m,u,v,h,a,s,e,i,l]}class ce extends U{constructor(e){super(),K(this,e,qt,Wt,R,{name:0,color:1,size:2,strokeWidth:3,absoluteStrokeWidth:4,iconNode:5})}}function Bt(t){let e;const o=t[2].default,n=x(o,t,t[3],null);return{c(){n&&n.c()},m(s,l){n&&n.m(s,l),e=!0},p(s,l){n&&n.p&&(!e||l&8)&&te(n,o,s,s[3],e?ee(o,s[3],l,null):ne(s[3]),null)},i(s){e||(y(n,s),e=!0)},o(s){C(n,s),e=!1},d(s){n&&n.d(s)}}}function Dt(t){let e,o;const n=[{name:"book-open"},t[1],{iconNode:t[0]}];let s={$$slots:{default:[Bt]},$$scope:{ctx:t}};for(let l=0;l<n.length;l+=1)s=M(s,n[l]);return e=new ce({props:s}),{c(){F(e.$$.fragment)},m(l,i){D(e,l,i),o=!0},p(l,[i]){const r=i&3?Q(n,[n[0],i&2&&re(l[1]),i&1&&{iconNode:l[0]}]):{};i&8&&(r.$$scope={dirty:i,ctx:l}),e.$set(r)},i(l){o||(y(e.$$.fragment,l),o=!0)},o(l){C(e.$$.fragment,l),o=!1},d(l){O(e,l)}}}function Ot(t,e,o){let{$$slots:n={},$$scope:s}=e;const l=[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"}]];return t.$$set=i=>{o(1,e=M(M({},e),z(i))),"$$scope"in i&&o(3,s=i.$$scope)},e=z(e),[l,e,n,s]}class _t extends U{constructor(e){super(),K(this,e,Ot,Dt,R,{})}}function zt(t){let e;const o=t[2].default,n=x(o,t,t[3],null);return{c(){n&&n.c()},m(s,l){n&&n.m(s,l),e=!0},p(s,l){n&&n.p&&(!e||l&8)&&te(n,o,s,s[3],e?ee(o,s[3],l,null):ne(s[3]),null)},i(s){e||(y(n,s),e=!0)},o(s){C(n,s),e=!1},d(s){n&&n.d(s)}}}function Ft(t){let e,o;const n=[{name:"brain"},t[1],{iconNode:t[0]}];let s={$$slots:{default:[zt]},$$scope:{ctx:t}};for(let l=0;l<n.length;l+=1)s=M(s,n[l]);return e=new ce({props:s}),{c(){F(e.$$.fragment)},m(l,i){D(e,l,i),o=!0},p(l,[i]){const r=i&3?Q(n,[n[0],i&2&&re(l[1]),i&1&&{iconNode:l[0]}]):{};i&8&&(r.$$scope={dirty:i,ctx:l}),e.$set(r)},i(l){o||(y(e.$$.fragment,l),o=!0)},o(l){C(e.$$.fragment,l),o=!1},d(l){O(e,l)}}}function Yt(t,e,o){let{$$slots:n={},$$scope:s}=e;const l=[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z"}]];return t.$$set=i=>{o(1,e=M(M({},e),z(i))),"$$scope"in i&&o(3,s=i.$$scope)},e=z(e),[l,e,n,s]}class mt extends U{constructor(e){super(),K(this,e,Yt,Ft,R,{})}}function Xt(t){let e;const o=t[2].default,n=x(o,t,t[3],null);return{c(){n&&n.c()},m(s,l){n&&n.m(s,l),e=!0},p(s,l){n&&n.p&&(!e||l&8)&&te(n,o,s,s[3],e?ee(o,s[3],l,null):ne(s[3]),null)},i(s){e||(y(n,s),e=!0)},o(s){C(n,s),e=!1},d(s){n&&n.d(s)}}}function Lt(t){let e,o;const n=[{name:"chevron-left"},t[1],{iconNode:t[0]}];let s={$$slots:{default:[Xt]},$$scope:{ctx:t}};for(let l=0;l<n.length;l+=1)s=M(s,n[l]);return e=new ce({props:s}),{c(){F(e.$$.fragment)},m(l,i){D(e,l,i),o=!0},p(l,[i]){const r=i&3?Q(n,[n[0],i&2&&re(l[1]),i&1&&{iconNode:l[0]}]):{};i&8&&(r.$$scope={dirty:i,ctx:l}),e.$set(r)},i(l){o||(y(e.$$.fragment,l),o=!0)},o(l){C(e.$$.fragment,l),o=!1},d(l){O(e,l)}}}function Tt(t,e,o){let{$$slots:n={},$$scope:s}=e;const l=[["path",{d:"m15 18-6-6 6-6"}]];return t.$$set=i=>{o(1,e=M(M({},e),z(i))),"$$scope"in i&&o(3,s=i.$$scope)},e=z(e),[l,e,n,s]}class Rt extends U{constructor(e){super(),K(this,e,Tt,Lt,R,{})}}function Ht(t){let e;const o=t[2].default,n=x(o,t,t[3],null);return{c(){n&&n.c()},m(s,l){n&&n.m(s,l),e=!0},p(s,l){n&&n.p&&(!e||l&8)&&te(n,o,s,s[3],e?ee(o,s[3],l,null):ne(s[3]),null)},i(s){e||(y(n,s),e=!0)},o(s){C(n,s),e=!1},d(s){n&&n.d(s)}}}function Kt(t){let e,o;const n=[{name:"chevron-right"},t[1],{iconNode:t[0]}];let s={$$slots:{default:[Ht]},$$scope:{ctx:t}};for(let l=0;l<n.length;l+=1)s=M(s,n[l]);return e=new ce({props:s}),{c(){F(e.$$.fragment)},m(l,i){D(e,l,i),o=!0},p(l,[i]){const r=i&3?Q(n,[n[0],i&2&&re(l[1]),i&1&&{iconNode:l[0]}]):{};i&8&&(r.$$scope={dirty:i,ctx:l}),e.$set(r)},i(l){o||(y(e.$$.fragment,l),o=!0)},o(l){C(e.$$.fragment,l),o=!1},d(l){O(e,l)}}}function Ut(t,e,o){let{$$slots:n={},$$scope:s}=e;const l=[["path",{d:"m9 18 6-6-6-6"}]];return t.$$set=i=>{o(1,e=M(M({},e),z(i))),"$$scope"in i&&o(3,s=i.$$scope)},e=z(e),[l,e,n,s]}class Vt extends U{constructor(e){super(),K(this,e,Ut,Kt,R,{})}}function Gt(t){let e;const o=t[2].default,n=x(o,t,t[3],null);return{c(){n&&n.c()},m(s,l){n&&n.m(s,l),e=!0},p(s,l){n&&n.p&&(!e||l&8)&&te(n,o,s,s[3],e?ee(o,s[3],l,null):ne(s[3]),null)},i(s){e||(y(n,s),e=!0)},o(s){C(n,s),e=!1},d(s){n&&n.d(s)}}}function Jt(t){let e,o;const n=[{name:"file-input"},t[1],{iconNode:t[0]}];let s={$$slots:{default:[Gt]},$$scope:{ctx:t}};for(let l=0;l<n.length;l+=1)s=M(s,n[l]);return e=new ce({props:s}),{c(){F(e.$$.fragment)},m(l,i){D(e,l,i),o=!0},p(l,[i]){const r=i&3?Q(n,[n[0],i&2&&re(l[1]),i&1&&{iconNode:l[0]}]):{};i&8&&(r.$$scope={dirty:i,ctx:l}),e.$set(r)},i(l){o||(y(e.$$.fragment,l),o=!0)},o(l){C(e.$$.fragment,l),o=!1},d(l){O(e,l)}}}function Zt(t,e,o){let{$$slots:n={},$$scope:s}=e;const l=[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7.5L14.5 2H6a2 2 0 0 0-2 2v4"}],["polyline",{points:"14 2 14 8 20 8"}],["path",{d:"M2 15h10"}],["path",{d:"m9 18 3-3-3-3"}]];return t.$$set=i=>{o(1,e=M(M({},e),z(i))),"$$scope"in i&&o(3,s=i.$$scope)},e=z(e),[l,e,n,s]}class gt extends U{constructor(e){super(),K(this,e,Zt,Jt,R,{})}}function Qt(t){let e;const o=t[2].default,n=x(o,t,t[3],null);return{c(){n&&n.c()},m(s,l){n&&n.m(s,l),e=!0},p(s,l){n&&n.p&&(!e||l&8)&&te(n,o,s,s[3],e?ee(o,s[3],l,null):ne(s[3]),null)},i(s){e||(y(n,s),e=!0)},o(s){C(n,s),e=!1},d(s){n&&n.d(s)}}}function xt(t){let e,o;const n=[{name:"file-output"},t[1],{iconNode:t[0]}];let s={$$slots:{default:[Qt]},$$scope:{ctx:t}};for(let l=0;l<n.length;l+=1)s=M(s,n[l]);return e=new ce({props:s}),{c(){F(e.$$.fragment)},m(l,i){D(e,l,i),o=!0},p(l,[i]){const r=i&3?Q(n,[n[0],i&2&&re(l[1]),i&1&&{iconNode:l[0]}]):{};i&8&&(r.$$scope={dirty:i,ctx:l}),e.$set(r)},i(l){o||(y(e.$$.fragment,l),o=!0)},o(l){C(e.$$.fragment,l),o=!1},d(l){O(e,l)}}}function en(t,e,o){let{$$slots:n={},$$scope:s}=e;const l=[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7.5L14.5 2H6a2 2 0 0 0-2 2v4"}],["polyline",{points:"14 2 14 8 20 8"}],["path",{d:"M2 15h10"}],["path",{d:"m5 12-3 3 3 3"}]];return t.$$set=i=>{o(1,e=M(M({},e),z(i))),"$$scope"in i&&o(3,s=i.$$scope)},e=z(e),[l,e,n,s]}class pt extends U{constructor(e){super(),K(this,e,en,xt,R,{})}}function tn(t){let e;const o=t[2].default,n=x(o,t,t[3],null);return{c(){n&&n.c()},m(s,l){n&&n.m(s,l),e=!0},p(s,l){n&&n.p&&(!e||l&8)&&te(n,o,s,s[3],e?ee(o,s[3],l,null):ne(s[3]),null)},i(s){e||(y(n,s),e=!0)},o(s){C(n,s),e=!1},d(s){n&&n.d(s)}}}function nn(t){let e,o;const n=[{name:"play"},t[1],{iconNode:t[0]}];let s={$$slots:{default:[tn]},$$scope:{ctx:t}};for(let l=0;l<n.length;l+=1)s=M(s,n[l]);return e=new ce({props:s}),{c(){F(e.$$.fragment)},m(l,i){D(e,l,i),o=!0},p(l,[i]){const r=i&3?Q(n,[n[0],i&2&&re(l[1]),i&1&&{iconNode:l[0]}]):{};i&8&&(r.$$scope={dirty:i,ctx:l}),e.$set(r)},i(l){o||(y(e.$$.fragment,l),o=!0)},o(l){C(e.$$.fragment,l),o=!1},d(l){O(e,l)}}}function on(t,e,o){let{$$slots:n={},$$scope:s}=e;const l=[["polygon",{points:"5 3 19 12 5 21 5 3"}]];return t.$$set=i=>{o(1,e=M(M({},e),z(i))),"$$scope"in i&&o(3,s=i.$$scope)},e=z(e),[l,e,n,s]}class ln extends U{constructor(e){super(),K(this,e,on,nn,R,{})}}function sn(t){let e;const o=t[2].default,n=x(o,t,t[3],null);return{c(){n&&n.c()},m(s,l){n&&n.m(s,l),e=!0},p(s,l){n&&n.p&&(!e||l&8)&&te(n,o,s,s[3],e?ee(o,s[3],l,null):ne(s[3]),null)},i(s){e||(y(n,s),e=!0)},o(s){C(n,s),e=!1},d(s){n&&n.d(s)}}}function rn(t){let e,o;const n=[{name:"plus"},t[1],{iconNode:t[0]}];let s={$$slots:{default:[sn]},$$scope:{ctx:t}};for(let l=0;l<n.length;l+=1)s=M(s,n[l]);return e=new ce({props:s}),{c(){F(e.$$.fragment)},m(l,i){D(e,l,i),o=!0},p(l,[i]){const r=i&3?Q(n,[n[0],i&2&&re(l[1]),i&1&&{iconNode:l[0]}]):{};i&8&&(r.$$scope={dirty:i,ctx:l}),e.$set(r)},i(l){o||(y(e.$$.fragment,l),o=!0)},o(l){C(e.$$.fragment,l),o=!1},d(l){O(e,l)}}}function cn(t,e,o){let{$$slots:n={},$$scope:s}=e;const l=[["path",{d:"M5 12h14"}],["path",{d:"M12 5v14"}]];return t.$$set=i=>{o(1,e=M(M({},e),z(i))),"$$scope"in i&&o(3,s=i.$$scope)},e=z(e),[l,e,n,s]}class an extends U{constructor(e){super(),K(this,e,cn,rn,R,{})}}function fn(t){let e;const o=t[2].default,n=x(o,t,t[3],null);return{c(){n&&n.c()},m(s,l){n&&n.m(s,l),e=!0},p(s,l){n&&n.p&&(!e||l&8)&&te(n,o,s,s[3],e?ee(o,s[3],l,null):ne(s[3]),null)},i(s){e||(y(n,s),e=!0)},o(s){C(n,s),e=!1},d(s){n&&n.d(s)}}}function un(t){let e,o;const n=[{name:"trash-2"},t[1],{iconNode:t[0]}];let s={$$slots:{default:[fn]},$$scope:{ctx:t}};for(let l=0;l<n.length;l+=1)s=M(s,n[l]);return e=new ce({props:s}),{c(){F(e.$$.fragment)},m(l,i){D(e,l,i),o=!0},p(l,[i]){const r=i&3?Q(n,[n[0],i&2&&re(l[1]),i&1&&{iconNode:l[0]}]):{};i&8&&(r.$$scope={dirty:i,ctx:l}),e.$set(r)},i(l){o||(y(e.$$.fragment,l),o=!0)},o(l){C(e.$$.fragment,l),o=!1},d(l){O(e,l)}}}function dn(t,e,o){let{$$slots:n={},$$scope:s}=e;const l=[["path",{d:"M3 6h18"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17"}]];return t.$$set=i=>{o(1,e=M(M({},e),z(i))),"$$scope"in i&&o(3,s=i.$$scope)},e=z(e),[l,e,n,s]}class hn extends U{constructor(e){super(),K(this,e,dn,un,R,{})}}function _n(t){let e;const o=t[2].default,n=x(o,t,t[3],null);return{c(){n&&n.c()},m(s,l){n&&n.m(s,l),e=!0},p(s,l){n&&n.p&&(!e||l&8)&&te(n,o,s,s[3],e?ee(o,s[3],l,null):ne(s[3]),null)},i(s){e||(y(n,s),e=!0)},o(s){C(n,s),e=!1},d(s){n&&n.d(s)}}}function mn(t){let e,o;const n=[{name:"wrench"},t[1],{iconNode:t[0]}];let s={$$slots:{default:[_n]},$$scope:{ctx:t}};for(let l=0;l<n.length;l+=1)s=M(s,n[l]);return e=new ce({props:s}),{c(){F(e.$$.fragment)},m(l,i){D(e,l,i),o=!0},p(l,[i]){const r=i&3?Q(n,[n[0],i&2&&re(l[1]),i&1&&{iconNode:l[0]}]):{};i&8&&(r.$$scope={dirty:i,ctx:l}),e.$set(r)},i(l){o||(y(e.$$.fragment,l),o=!0)},o(l){C(e.$$.fragment,l),o=!1},d(l){O(e,l)}}}function gn(t,e,o){let{$$slots:n={},$$scope:s}=e;const l=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"}]];return t.$$set=i=>{o(1,e=M(M({},e),z(i))),"$$scope"in i&&o(3,s=i.$$scope)},e=z(e),[l,e,n,s]}class vt extends U{constructor(e){super(),K(this,e,gn,mn,R,{})}}function pn(t){let e,o,n,s,l,i,r,m=t[0].data.label+"",u,v,h,a,_,d,j;var $=t[3][t[0].type];function f(N,p){return{props:{size:24}}}return $&&(l=Me($,f())),{c(){e=A("div"),o=A("div"),n=L(),s=A("div"),l&&F(l.$$.fragment),i=L(),r=A("div"),u=Se(m),v=L(),h=A("div"),g(o,"class","connection-port input-port svelte-g8ufq9"),g(o,"title","Connect to this node"),g(s,"class","node-icon svelte-g8ufq9"),_e(s,"color",t[4][t[0].type]),g(r,"class","node-label svelte-g8ufq9"),g(h,"class","connection-port output-port svelte-g8ufq9"),g(h,"title","Create connection from this node"),g(e,"class","workflow-node svelte-g8ufq9"),_e(e,"transform","translate("+t[0].position.x+"px, "+t[0].position.y+"px)"),_e(e,"border-color",t[4][t[0].type]),g(e,"role","group"),g(e,"aria-label",a=`Workflow node ${t[0].data.label}`),Ie(e,"selected",t[1])},m(N,p){Z(N,e,p),w(e,o),w(e,n),w(e,s),l&&D(l,s,null),w(e,i),w(e,r),w(r,u),w(e,v),w(e,h),_=!0,d||(j=[T(o,"click",t[6]),T(h,"click",t[5]),T(e,"mousedown",t[7])],d=!0)},p(N,[p]){if(p&1&&$!==($=N[3][N[0].type])){if(l){be();const E=l;C(E.$$.fragment,1,0,()=>{O(E,1)}),we()}$?(l=Me($,f()),F(l.$$.fragment),y(l.$$.fragment,1),D(l,s,null)):l=null}(!_||p&1)&&_e(s,"color",N[4][N[0].type]),(!_||p&1)&&m!==(m=N[0].data.label+"")&&Re(u,m),(!_||p&1)&&_e(e,"transform","translate("+N[0].position.x+"px, "+N[0].position.y+"px)"),(!_||p&1)&&_e(e,"border-color",N[4][N[0].type]),(!_||p&1&&a!==(a=`Workflow node ${N[0].data.label}`))&&g(e,"aria-label",a),(!_||p&2)&&Ie(e,"selected",N[1])},i(N){_||(l&&y(l.$$.fragment,N),_=!0)},o(N){l&&C(l.$$.fragment,N),_=!1},d(N){N&&J(e),l&&O(l),d=!1,ie(j)}}}function vn(t,e,o){let{node:n}=e,{selected:s=!1}=e;const l=He(),i={brain:mt,input:gt,output:pt,knowledge:_t,tool:vt},r={brain:"#8B5CF6",input:"#3B82F6",output:"#10B981",knowledge:"#F59E0B",tool:"#EF4444"};function m(h){h.stopPropagation(),l("connectionStart")}function u(h){h.stopPropagation(),l("connectionEnd")}const v=h=>{h.stopPropagation(),l("nodestartdrag",{nodeId:n.id,event:h})};return t.$$set=h=>{"node"in h&&o(0,n=h.node),"selected"in h&&o(1,s=h.selected)},[n,s,l,i,r,m,u,v]}class $n extends U{constructor(e){super(),K(this,e,vn,pn,R,{node:0,selected:1})}}function Qe(t,e,o){const n=t.slice();return n[36]=e[o],n}function xe(t,e,o){const n=t.slice();n[39]=e[o];const s=n[0].get(n[39].from);n[40]=s;const l=n[0].get(n[39].to);return n[41]=l,n}function ze(t){const e=t.slice(),o=e[40].position.x+160;e[44]=o;const n=e[40].position.y+44;e[45]=n;const s=e[41].position.x;e[46]=s;const l=e[41].position.y+44;e[47]=l;const i=Math.max(40,Math.abs(e[46]-e[44])*.35);return e[48]=i,e}function et(t){let e,o;return{c(){e=le("path"),g(e,"class","edge svelte-xhuoyq"),g(e,"d",o=`M ${t[44]} ${t[45]} C ${t[44]+t[48]} ${t[45]}, ${t[46]-t[48]} ${t[47]}, ${t[46]} ${t[47]}`)},m(n,s){Z(n,e,s)},p(n,s){s[0]&9&&o!==(o=`M ${n[44]} ${n[45]} C ${n[44]+n[48]} ${n[45]}, ${n[46]-n[48]} ${n[47]}, ${n[46]} ${n[47]}`)&&g(e,"d",o)},d(n){n&&J(e)}}}function tt(t){let e,o=t[40]&&t[41]&&et(ze(t));return{c(){o&&o.c(),e=Te()},m(n,s){o&&o.m(n,s),Z(n,e,s)},p(n,s){n[40]&&n[41]?o?o.p(ze(n),s):(o=et(ze(n)),o.c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null)},d(n){n&&J(e),o&&o.d(n)}}}function nt(t){let e,o;function n(){return t[15](t[36])}function s(){return t[16](t[36])}return e=new $n({props:{node:t[36],selected:t[1]===t[36].id}}),e.$on("connectionStart",n),e.$on("connectionEnd",s),e.$on("nodestartdrag",t[13]),{c(){F(e.$$.fragment)},m(l,i){D(e,l,i),o=!0},p(l,i){t=l;const r={};i[0]&16&&(r.node=t[36]),i[0]&18&&(r.selected=t[1]===t[36].id),e.$set(r)},i(l){o||(y(e.$$.fragment,l),o=!0)},o(l){C(e.$$.fragment,l),o=!1},d(l){O(e,l)}}}function bn(t){let e,o,n,s,l,i,r,m,u,v,h,a,_,d=se(t[3]),j=[];for(let p=0;p<d.length;p+=1)j[p]=tt(xe(t,d,p));let $=se(t[4]),f=[];for(let p=0;p<$.length;p+=1)f[p]=nt(Qe(t,$,p));const N=p=>C(f[p],1,1,()=>{f[p]=null});return{c(){e=A("div"),o=A("div"),n=le("svg");for(let p=0;p<j.length;p+=1)j[p].c();s=le("defs"),l=le("filter"),i=le("feGaussianBlur"),r=le("feMerge"),m=le("feMergeNode"),u=le("feMergeNode"),v=L();for(let p=0;p<f.length;p+=1)f[p].c();g(i,"stdDeviation","3"),g(i,"result","coloredBlur"),g(m,"in","coloredBlur"),g(u,"in","SourceGraphic"),g(l,"id","glow"),g(l,"x","-50%"),g(l,"y","-50%"),g(l,"width","200%"),g(l,"height","200%"),g(n,"class","connections-layer svelte-xhuoyq"),g(o,"class","canvas svelte-xhuoyq"),g(o,"role","application"),g(o,"aria-label","Zoomable and pannable workflow canvas"),g(o,"tabindex","0"),g(e,"class","canvas-container svelte-xhuoyq"),g(e,"role","application"),g(e,"aria-label","Workflow canvas container")},m(p,E){Z(p,e,E),w(e,o),w(o,n);for(let k=0;k<j.length;k+=1)j[k]&&j[k].m(n,null);w(n,s),w(s,l),w(l,i),w(l,r),w(r,m),w(r,u),w(o,v);for(let k=0;k<f.length;k+=1)f[k]&&f[k].m(o,null);t[17](o),h=!0,a||(_=[T(o,"keydown",t[10]),T(o,"mousedown",t[5]),T(o,"mousemove",t[6]),T(o,"mouseup",t[7]),T(o,"mouseleave",t[7]),T(o,"wheel",t[9]),T(o,"dblclick",t[8])],a=!0)},p(p,E){if(E[0]&9){d=se(p[3]);let k;for(k=0;k<d.length;k+=1){const Y=xe(p,d,k);j[k]?j[k].p(Y,E):(j[k]=tt(Y),j[k].c(),j[k].m(n,s))}for(;k<j.length;k+=1)j[k].d(1);j.length=d.length}if(E[0]&14354){$=se(p[4]);let k;for(k=0;k<$.length;k+=1){const Y=Qe(p,$,k);f[k]?(f[k].p(Y,E),y(f[k],1)):(f[k]=nt(Y),f[k].c(),y(f[k],1),f[k].m(o,null))}for(be(),k=$.length;k<f.length;k+=1)N(k);we()}},i(p){if(!h){for(let E=0;E<$.length;E+=1)y(f[E]);h=!0}},o(p){f=f.filter(Boolean);for(let E=0;E<f.length;E+=1)C(f[E]);h=!1},d(p){p&&J(e),Ne(j,p),Ne(f,p),t[17](null),a=!1,ie(_)}}}function wn(t,e,o){let n,s,{nodes:l=new Map}=e,{connections:i=new Map}=e,{selectedNodeId:r=null}=e;const m=He();let u,v=1,h=0,a=0,_=!1,d=0,j=0,$=0,f=0,N=null,p={x:0,y:0},E=0,k=0,Y=!1,H=null;dt(()=>{var P;const c=(P=u.parentElement)==null?void 0:P.getBoundingClientRect();c&&(h=c.width/2-2500*v,a=c.height/2-2500*v),V()});function V(){u&&o(2,u.style.transform=`translate(${h}px, ${a}px) scale(${v})`,u)}function ue(c){c.target===u&&(_=!0,d=c.clientX,j=c.clientY,$=h,f=a)}function ae(c){if(_){const P=c.clientX-d,W=c.clientY-j;h=$+P,a=f+W,V()}else if(N){const P=c.clientX-E,W=c.clientY-k,S=l.get(N);S&&(S.position.x=p.x+P/v,S.position.y=p.y+W/v,o(0,l))}}function he(){_=!1,N=null}function b(c){if(c.target===u){const P=u.getBoundingClientRect(),W=(c.clientX-P.left)/v,S=(c.clientY-P.top)/v;m("nodeAdd",{type:"brain",position:{x:W,y:S}})}}function I(c){var Ke;c.preventDefault();const P=.1,W=(Ke=u.parentElement)==null?void 0:Ke.getBoundingClientRect();if(!W)return;const S=c.clientX-W.left,de=c.clientY-W.top,$t=(S-h)/v,bt=(de-a)/v,wt=c.deltaY<0?1:-1;v*=1+wt*P,v=Math.min(Math.max(.1,v),5),h=S-$t*v,a=de-bt*v,V()}function X(c){c.key==="ArrowLeft"?(h+=40,V(),c.preventDefault()):c.key==="ArrowRight"?(h-=40,V(),c.preventDefault()):c.key==="ArrowUp"?(a+=40,V(),c.preventDefault()):c.key==="ArrowDown"?(a-=40,V(),c.preventDefault()):c.key==="+"||c.key==="="?(G(1.2),c.preventDefault()):(c.key==="-"||c.key==="_")&&(G(.8),c.preventDefault())}function G(c){v*=c,v=Math.min(Math.max(.1,v),5),V()}function oe(c){Y=!0,H=c,console.log("ðŸ”— Starting connection from:",c)}function q(c){Y&&H&&H!==c&&(m("connectionCreate",{from:H,to:c}),console.log("âœ… Connection created:",H,"->",c)),Y=!1,H=null}function Ae(c){const{nodeId:P,event:W}=c.detail;N=P;const S=l.get(P);S&&(p.x=S.position.x,p.y=S.position.y),E=W.clientX,k=W.clientY,_=!1}const fe=c=>oe(c.id),B=c=>q(c.id);function Ee(c){ve[c?"unshift":"push"](()=>{u=c,o(2,u)})}return t.$$set=c=>{"nodes"in c&&o(0,l=c.nodes),"connections"in c&&o(14,i=c.connections),"selectedNodeId"in c&&o(1,r=c.selectedNodeId)},t.$$.update=()=>{t.$$.dirty[0]&4&&u&&V(),t.$$.dirty[0]&1&&o(4,n=Array.from(l.values())),t.$$.dirty[0]&16384&&o(3,s=Array.from(i.values()))},[l,r,u,s,n,ue,ae,he,b,I,X,oe,q,Ae,i,fe,B,Ee]}class kn extends U{constructor(e){super(),K(this,e,wn,bn,R,{nodes:0,connections:14,selectedNodeId:1},null,[-1,-1])}}function ot(t,e,o){const n=t.slice();return n[14]=e[o],n}function lt(t,e,o){const n=t.slice();return n[17]=e[o],n}function Nn(t){let e,o;return e=new Rt({props:{size:16}}),{c(){F(e.$$.fragment)},m(n,s){D(e,n,s),o=!0},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){C(e.$$.fragment,n),o=!1},d(n){O(e,n)}}}function yn(t){let e,o;return e=new Vt({props:{size:16}}),{c(){F(e.$$.fragment)},m(n,s){D(e,n,s),o=!0},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){C(e.$$.fragment,n),o=!1},d(n){O(e,n)}}}function st(t){let e,o,n,s,l,i,r,m,u;var v=t[17].icon;function h(d,j){return{props:{size:18}}}v&&(n=Me(v,h()));function a(){return t[8](t[17])}function _(...d){return t[9](t[17],...d)}return{c(){e=A("button"),o=A("div"),n&&F(n.$$.fragment),s=L(),l=A("span"),l.textContent=`${t[17].label}`,i=L(),g(o,"class","icon svelte-1ahfdq4"),_e(o,"color",t[17].color),g(l,"class","label svelte-1ahfdq4"),g(e,"class","item svelte-1ahfdq4"),g(e,"aria-label",`Add ${t[17].label} node`)},m(d,j){Z(d,e,j),w(e,o),n&&D(n,o,null),w(e,s),w(e,l),w(e,i),r=!0,m||(u=[T(e,"click",a),T(e,"keydown",_)],m=!0)},p(d,j){if(t=d,v!==(v=t[17].icon)){if(n){be();const $=n;C($.$$.fragment,1,0,()=>{O($,1)}),we()}v?(n=Me(v,h()),F(n.$$.fragment),y(n.$$.fragment,1),D(n,o,null)):n=null}},i(d){r||(n&&y(n.$$.fragment,d),r=!0)},o(d){n&&C(n.$$.fragment,d),r=!1},d(d){d&&J(e),n&&O(n),m=!1,ie(u)}}}function it(t){let e,o=t[14].updatedAt+"",n;return{c(){e=A("span"),n=Se(o),g(e,"class","meta svelte-1ahfdq4")},m(s,l){Z(s,e,l),w(e,n)},p(s,l){l&1&&o!==(o=s[14].updatedAt+"")&&Re(n,o)},d(s){s&&J(e)}}}function rt(t){let e,o,n,s=t[14].name+"",l,i,r,m,u,v,h,a,_,d=t[14].updatedAt&&it(t);u=new hn({props:{size:16}});function j(...f){return t[11](t[14],...f)}function $(){return t[12](t[14])}return{c(){e=A("div"),o=A("div"),n=A("span"),l=Se(s),i=L(),d&&d.c(),r=L(),m=A("button"),F(u.$$.fragment),v=L(),g(n,"class","name svelte-1ahfdq4"),g(o,"class","left svelte-1ahfdq4"),g(m,"class","del-btn svelte-1ahfdq4"),g(m,"aria-label","Delete project"),g(m,"title","Delete"),g(e,"class","project-item svelte-1ahfdq4")},m(f,N){Z(f,e,N),w(e,o),w(o,n),w(n,l),w(o,i),d&&d.m(o,null),w(e,r),w(e,m),D(u,m,null),w(e,v),h=!0,a||(_=[T(m,"click",j),T(e,"click",$)],a=!0)},p(f,N){t=f,(!h||N&1)&&s!==(s=t[14].name+"")&&Re(l,s),t[14].updatedAt?d?d.p(t,N):(d=it(t),d.c(),d.m(o,null)):d&&(d.d(1),d=null)},i(f){h||(y(u.$$.fragment,f),h=!0)},o(f){C(u.$$.fragment,f),h=!1},d(f){f&&J(e),d&&d.d(),O(u),a=!1,ie(_)}}}function Sn(t){let e,o,n,s,l,i,r,m,u,v,h,a,_,d,j,$,f,N,p,E,k,Y,H,V,ue,ae,he,b;const I=[yn,Nn],X=[];function G(c,P){return c[1]?0:1}s=G(t),l=X[s]=I[s](t);let oe=se(t[3]),q=[];for(let c=0;c<oe.length;c+=1)q[c]=st(lt(t,oe,c));const Ae=c=>C(q[c],1,1,()=>{q[c]=null});f=new an({props:{size:14}});let fe=se(t[0]),B=[];for(let c=0;c<fe.length;c+=1)B[c]=rt(ot(t,fe,c));const Ee=c=>C(B[c],1,1,()=>{B[c]=null});return H=new ln({props:{size:14}}),{c(){e=A("div"),o=A("div"),n=A("button"),l.c(),i=L(),r=A("div"),m=A("div"),m.textContent="Nodes",u=L();for(let c=0;c<q.length;c+=1)q[c].c();v=L(),h=A("div"),a=L(),_=A("div"),d=A("div"),d.textContent="Projects",j=L(),$=A("button"),F(f.$$.fragment),N=L(),p=A("div");for(let c=0;c<B.length;c+=1)B[c].c();E=L(),k=A("div"),Y=A("button"),F(H.$$.fragment),V=L(),ue=A("span"),ue.textContent="Run",g(n,"class","collapse-btn svelte-1ahfdq4"),g(n,"aria-label","Toggle sidebar"),g(n,"title","Toggle sidebar"),g(o,"class","topbar svelte-1ahfdq4"),g(m,"class","section-title svelte-1ahfdq4"),g(r,"class","section svelte-1ahfdq4"),g(h,"class","divider svelte-1ahfdq4"),g(d,"class","projects-title svelte-1ahfdq4"),g($,"class","icon-btn svelte-1ahfdq4"),g($,"aria-label","New Project"),g($,"title","New Project"),g(_,"class","projects-header svelte-1ahfdq4"),g(p,"class","projects svelte-1ahfdq4"),g(p,"aria-label","Projects list"),g(ue,"class","label svelte-1ahfdq4"),g(Y,"class","run-btn svelte-1ahfdq4"),g(k,"class","bottom svelte-1ahfdq4"),g(e,"class","sidebar svelte-1ahfdq4"),g(e,"role","navigation"),g(e,"aria-label","Component Palette"),Ie(e,"collapsed",t[1])},m(c,P){Z(c,e,P),w(e,o),w(o,n),X[s].m(n,null),w(e,i),w(e,r),w(r,m),w(r,u);for(let W=0;W<q.length;W+=1)q[W]&&q[W].m(r,null);w(e,v),w(e,h),w(e,a),w(e,_),w(_,d),w(_,j),w(_,$),D(f,$,null),w(e,N),w(e,p);for(let W=0;W<B.length;W+=1)B[W]&&B[W].m(p,null);w(e,E),w(e,k),w(k,Y),D(H,Y,null),w(Y,V),w(Y,ue),ae=!0,he||(b=[T(n,"click",t[7]),T($,"click",t[10]),T(Y,"click",t[13])],he=!0)},p(c,[P]){let W=s;if(s=G(c),s!==W&&(be(),C(X[W],1,1,()=>{X[W]=null}),we(),l=X[s],l||(l=X[s]=I[s](c),l.c()),y(l,1),l.m(n,null)),P&56){oe=se(c[3]);let S;for(S=0;S<oe.length;S+=1){const de=lt(c,oe,S);q[S]?(q[S].p(de,P),y(q[S],1)):(q[S]=st(de),q[S].c(),y(q[S],1),q[S].m(r,null))}for(be(),S=oe.length;S<q.length;S+=1)Ae(S);we()}if(P&5){fe=se(c[0]);let S;for(S=0;S<fe.length;S+=1){const de=ot(c,fe,S);B[S]?(B[S].p(de,P),y(B[S],1)):(B[S]=rt(de),B[S].c(),y(B[S],1),B[S].m(p,null))}for(be(),S=fe.length;S<B.length;S+=1)Ee(S);we()}(!ae||P&2)&&Ie(e,"collapsed",c[1])},i(c){if(!ae){y(l);for(let P=0;P<oe.length;P+=1)y(q[P]);y(f.$$.fragment,c);for(let P=0;P<fe.length;P+=1)y(B[P]);y(H.$$.fragment,c),ae=!0}},o(c){C(l),q=q.filter(Boolean);for(let P=0;P<q.length;P+=1)C(q[P]);C(f.$$.fragment,c),B=B.filter(Boolean);for(let P=0;P<B.length;P+=1)C(B[P]);C(H.$$.fragment,c),ae=!1},d(c){c&&J(e),X[s].d(),Ne(q,c),O(f),Ne(B,c),O(H),he=!1,ie(b)}}}function jn(t,e,o){const n=He();let{projects:s=[]}=e,{currentProjectId:l="new"}=e,{collapsed:i=!1}=e;const r=[{type:"brain",label:"AI Brain",icon:mt,color:"#8B5CF6"},{type:"input",label:"Input",icon:gt,color:"#3B82F6"},{type:"output",label:"Output",icon:pt,color:"#10B981"},{type:"knowledge",label:"Knowledge",icon:_t,color:"#F59E0B"},{type:"tool",label:"Tool",icon:vt,color:"#EF4444"}];function m(f){n("nodeAdd",{type:f})}function u(f,N){(f.key==="Enter"||f.key===" ")&&(f.preventDefault(),m(N))}const v=()=>n("toggleCollapse"),h=f=>m(f.type),a=(f,N)=>u(N,f.type),_=()=>n("newProject"),d=(f,N)=>{N.stopPropagation(),n("deleteProject",{id:f.id})},j=f=>n("selectProject",{id:f.id}),$=()=>n("run");return t.$$set=f=>{"projects"in f&&o(0,s=f.projects),"currentProjectId"in f&&o(6,l=f.currentProjectId),"collapsed"in f&&o(1,i=f.collapsed)},[s,i,n,r,m,u,l,v,h,a,_,d,j,$]}class Cn extends U{constructor(e){super(),K(this,e,jn,Sn,R,{projects:0,currentProjectId:6,collapsed:1})}}class Pn{constructor(){this.ws=null,this.handlers=new Set}connect(){if(this.ws&&(this.ws.readyState===WebSocket.OPEN||this.ws.readyState===WebSocket.CONNECTING))return;const o=`${location.protocol==="https:"?"wss":"ws"}://${location.host}/ws`;this.ws=new WebSocket(o),this.ws.onopen=()=>{console.log("[WS] connected")},this.ws.onmessage=n=>{try{const s=JSON.parse(n.data);this.handlers.forEach(l=>l(s))}catch(s){console.error("[WS] message parse error",s)}},this.ws.onclose=()=>{console.log("[WS] disconnected")},this.ws.onerror=n=>{console.error("[WS] error",n)}}onMessage(e){return this.handlers.add(e),()=>this.handlers.delete(e)}executeWorkflow(e){const o={type:"execute_workflow",data:e};this._send(o)}_send(e){const o=JSON.stringify(e);if(this.ws&&this.ws.readyState===WebSocket.OPEN)this.ws.send(o);else{console.warn("[WS] not open, buffering send until open");const n=setInterval(()=>{this.ws&&this.ws.readyState===WebSocket.OPEN&&(clearInterval(n),this.ws.send(o))},200)}}disconnect(){this.ws&&(this.ws.close(),this.ws=null)}}const je=new Pn;function In(t){let e,o,n,s,l,i,r,m,u,v,h;s=new Cn({props:{projects:t[3],currentProjectId:t[4],collapsed:t[5]}}),s.$on("toggleCollapse",t[14]),s.$on("newProject",t[11]),s.$on("selectProject",t[15]),s.$on("deleteProject",t[16]),s.$on("nodeAdd",t[6]),s.$on("run",t[10]);function a($){t[17]($)}function _($){t[18]($)}function d($){t[19]($)}let j={};return t[0]!==void 0&&(j.nodes=t[0]),t[1]!==void 0&&(j.connections=t[1]),t[2]!==void 0&&(j.selectedNodeId=t[2]),i=new kn({props:j}),ve.push(()=>De(i,"nodes",a)),ve.push(()=>De(i,"connections",_)),ve.push(()=>De(i,"selectedNodeId",d)),i.$on("nodeAdd",t[7]),i.$on("nodeSelect",t[8]),i.$on("connectionCreate",t[9]),{c(){e=L(),o=A("div"),n=A("main"),F(s.$$.fragment),l=L(),F(i.$$.fragment),document.title="Weev - AI Agent Workflow Builder",g(n,"class","main svelte-9p0dov"),g(n,"style",v=`margin-left: ${t[5]?"56px":"200px"}`),g(o,"class","app svelte-9p0dov")},m($,f){Z($,e,f),Z($,o,f),w(o,n),D(s,n,null),w(n,l),D(i,n,null),h=!0},p($,[f]){const N={};f&8&&(N.projects=$[3]),f&16&&(N.currentProjectId=$[4]),f&32&&(N.collapsed=$[5]),s.$set(N);const p={};!r&&f&1&&(r=!0,p.nodes=$[0],qe(()=>r=!1)),!m&&f&2&&(m=!0,p.connections=$[1],qe(()=>m=!1)),!u&&f&4&&(u=!0,p.selectedNodeId=$[2],qe(()=>u=!1)),i.$set(p),(!h||f&32&&v!==(v=`margin-left: ${$[5]?"56px":"200px"}`))&&g(n,"style",v)},i($){h||(y(s.$$.fragment,$),y(i.$$.fragment,$),h=!0)},o($){C(s.$$.fragment,$),C(i.$$.fragment,$),h=!1},d($){$&&(J(e),J(o)),O(s),O(i)}}}function Mn(t,e,o){let n=new Map,s=new Map,l=null,i=[],r=[],m="new",u=!1;function v(){localStorage.setItem("weev-projects",JSON.stringify(r))}function h(){const b=localStorage.getItem("weev-projects");if(b)try{const X=JSON.parse(b);if(o(3,r=X),r.length>0){o(4,m=r[0].id),a(r[0]);return}}catch{}const I={id:`proj_${Date.now()}`,name:"Untitled",updatedAt:new Date().toISOString(),data:{nodes:[],connections:[]}};o(3,r=[I]),o(4,m=I.id),v(),a(I)}function a(b){o(0,n=new Map(b.data.nodes.map(I=>[I.id,structuredClone(I)]))),o(1,s=new Map(b.data.connections.map(I=>[I.id,structuredClone(I)]))),o(2,l=null)}function _(){const b=r.findIndex(I=>I.id===m);b!==-1&&(o(3,r[b]={...r[b],updatedAt:new Date().toISOString(),data:{nodes:Array.from(n.values()),connections:Array.from(s.values())}},r),v())}dt(()=>(h(),je.connect(),je.onMessage(b=>{i=[...i,b],console.log("ðŸ“¨ Execution update:",b)}),()=>{je.disconnect()}));function d(b){const I=`node_${Date.now()}`,X={brain:"AI Brain",input:"Input",output:"Output",knowledge:"Knowledge",tool:"Tool"},G={id:I,type:b.detail.type,position:{x:2400+Math.random()*100,y:2400+Math.random()*100},data:{label:X[b.detail.type],configuration:b.detail.type==="tool"?{tool:"email",action:"draft",params:{to:["user@example.com"],subject:"Hello"},mock:!0}:{}}};n.set(I,G),o(0,n),o(2,l=I),_()}function j(b){const I=`node_${Date.now()}`,X={brain:"AI Brain",input:"Input",output:"Output",knowledge:"Knowledge",tool:"Tool"},G={id:I,type:b.detail.type,position:b.detail.position,data:{label:X[b.detail.type],configuration:b.detail.type==="tool"?{tool:"email",action:"draft",params:{to:["user@example.com"],subject:"Hello"},mock:!0}:{}}};n.set(I,G),o(0,n),o(2,l=I),_()}function $(b){o(2,l=b.detail.nodeId)}function f(b){const I=`${b.detail.from}-${b.detail.to}`;s.set(I,{id:I,from:b.detail.from,to:b.detail.to}),o(1,s),_()}function N(){if(n.size===0){alert("Add some nodes to execute a workflow!");return}const b={workflow_id:`workflow_${Date.now()}`,nodes:Array.from(n.values()).map(I=>({node_id:I.id,node_type:I.type,system_rules:`Execute ${I.type} node`,user_configuration:I.data.configuration})),connections:Array.from(s.values())};i=[],je.executeWorkflow(b)}function p(){const b={id:`proj_${Date.now()}`,name:"Untitled",updatedAt:new Date().toISOString(),data:{nodes:[],connections:[]}};o(3,r=[b,...r]),o(4,m=b.id),v(),a(b)}function E(b){const I=r.find(X=>X.id===b);I&&(o(4,m=b),a(I))}function k(b){const I=r.findIndex(G=>G.id===b);if(I===-1)return;const X=r[I].id===m;if(r.splice(I,1),v(),r.length===0){p();return}if(X){const G=r[0];o(4,m=G.id),a(G)}}const Y=()=>o(5,u=!u),H=b=>E(b.detail.id),V=b=>k(b.detail.id);function ue(b){n=b,o(0,n)}function ae(b){s=b,o(1,s)}function he(b){l=b,o(2,l)}return[n,s,l,r,m,u,d,j,$,f,N,p,E,k,Y,H,V,ue,ae,he]}class An extends U{constructor(e){super(),K(this,e,Mn,In,R,{})}}new An({target:document.getElementById("app")});
